<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>js缓存机制</title>
</head>

<body>
	<div></div>
</body>
<script src="https://cdn.bootcss.com/jquery/2.2.1/jquery.js"></script>
<script>
	// 缓存函数
    var store = {
    nextId:1,
    cache:{},
    add:function(fn) {
      if(!fn.id){
          fn.id = store.nextId++;
          return !!(store.cache[fn.id] = fn);
      }
    }
}

function ninja() {}

console.log(store.add(ninja));
console.log(store.add(ninja));

/*缓存dom*/
function getElements(name) {
  if(!getElements.cache) getElements.cache = {};
  return getElements.cache[name] = getElements.cache[name]||document.getElementsByTagName(name); 
}
console.log(getElements('div'));
console.log(getElements('div'));
</script>
</html>
